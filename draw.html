<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Draw Arabic Letter</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link rel="stylesheet" href="static/css/style.css" />
  </head>

  <body>
    <div class="d-flex">
      <!-- Sidebar -->
      <nav id="sidebar" class="sidebar">
        <h4 class="text-center">Dashboard</h4>
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link" href="index.html">
              <i class="fas fa-home"></i> Home
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="draw.html">
              <i class="fas fa-paint-brush"></i> Draw
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="alphabet.html">
              <i class="fas fa-font"></i> Arabic Letters
            </a>
          </li>
        </ul>
      </nav>

      <div id="content" class="w-100">
        <!-- Topbar -->
        <header
          class="topbar d-flex justify-content-between align-items-center"
        >
          <h1 class="h4 mb-0">Draw Arabic Letter</h1>
          <div>
            <button class="btn btn-primary">
              <i class="fas fa-bell"></i>
            </button>
            <button class="btn btn-secondary">
              <i class="fas fa-user"></i>
            </button>
          </div>
        </header>

        <!-- Main Body -->
        <main class="container mt-4">
          <div class="row">
            <div class="col-lg-12 text-center">
              <div class="card mb-5">
                <div class="card-header text-center">
                  <h5>Draw Arabic Letter</h5>
                </div>
                <div class="card-body">
                  <div
                    class="toolbar d-flex justify-content-center align-items-center mb-3"
                  >
                    <div id="color-picker" class="d-flex">
                      <div
                        class="color-picker"
                        data-color="#000000"
                        style="background-color: #000000"
                      ></div>
                      <div
                        class="color-picker"
                        data-color="#FF0000"
                        style="background-color: #ff0000"
                      ></div>
                      <div
                        class="color-picker"
                        data-color="#00FF00"
                        style="background-color: #00ff00"
                      ></div>
                      <div
                        class="color-picker"
                        data-color="#0000FF"
                        style="background-color: #0000ff"
                      ></div>
                      <div
                        class="color-picker"
                        data-color="#FFFF00"
                        style="background-color: #ffff00"
                      ></div>
                    </div>
                    <input
                      id="pencil-width"
                      type="range"
                      class="range-slider"
                      min="1"
                      max="10"
                      value="3"
                    />
                    <label for="pencil-width">Width</label>
                  </div>
                  <div class="row">
                    <div class="col-md-7">
                      <canvas id="canvas" width="600" height="600"></canvas>
                    </div>
                    <div class="col-md-5">
                      <div class="draw-grid">
                        <!-- Arabic Letters -->
                        <div class="letter-item draw-font ">ا</div>
                        <div class="letter-item draw-font">ب</div>
                        <div class="letter-item draw-font">ت</div>
                        <div class="letter-item draw-font">ث</div>
                        <div class="letter-item draw-font">ج</div>
                        <div class="letter-item draw-font">ح</div>
                        <div class="letter-item draw-font">خ</div>
                        <div class="letter-item draw-font">د</div>
                        <div class="letter-item draw-font">ذ</div>
                        <div class="letter-item draw-font">ر</div>
                        <div class="letter-item draw-font">ز</div>
                        <div class="letter-item draw-font">س</div>
                        <div class="letter-item draw-font">ش</div>
                        <div class="letter-item draw-font">ص</div>
                        <div class="letter-item draw-font">ض</div>
                        <div class="letter-item draw-font">ط</div>
                        <div class="letter-item draw-font">ظ</div>
                        <div class="letter-item draw-font">ع</div>
                        <div class="letter-item draw-font">غ</div>
                        <div class="letter-item draw-font">ف</div>
                        <div class="letter-item draw-font">ق</div>
                        <div class="letter-item draw-font">ك</div>
                        <div class="letter-item draw-font">ل</div>
                        <div class="letter-item draw-font">م</div>
                        <div class="letter-item draw-font">ن</div>
                        <div class="letter-item draw-font">ه</div>
                        <div class="letter-item draw-font">و</div>
                        <div class="letter-item draw-font">ي</div>
                      </div>
                    </div>
                  </div>
                  <div class="text-center mt-3">
                    <button id="clear-btn" class="btn btn-danger">Clear</button>
                    <button id="save-btn" class="btn btn-success">Save</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
          <div class="container">
            <p class="mb-0">© 2024 <a href="https://rasheduzzaman.com">https://rasheduzzaman.com</a>. All rights reserved By <a href="https://github.com/jmrashed">jmrashed</a>.</p>
          </div>
        </footer>
      </div>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

    <!-- Drawing Script -->
    <script>
      $(document).ready(function () {
        var canvas = $("#canvas")[0];
        var ctx = canvas.getContext("2d");
        var drawing = false;
        var currentColor = "#000000";
        var pencilWidth = $("#pencil-width").val();

        function startDrawing(e) {
          drawing = true;
          ctx.beginPath();
          ctx.moveTo(e.offsetX, e.offsetY);
        }

        function draw(e) {
          if (!drawing) return;
          ctx.lineTo(e.offsetX, e.offsetY);
          ctx.stroke();
        }

        function stopDrawing() {
          drawing = false;
          ctx.closePath();
        }

        $("#canvas").on("mousedown", startDrawing);
        $("#canvas").on("mousemove", draw);
        $("#canvas").on("mouseup", stopDrawing);
        $("#canvas").on("mouseout", stopDrawing);

        $("#clear-btn").on("click", function () {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
        });

        $("#save-btn").on("click", function () {
          var dataURL = canvas.toDataURL("image/png");
          var link = document.createElement("a");
          link.href = dataURL;
          link.download = "drawing.png";
          link.click();
        });

        $(".color-picker").on("click", function () {
          $(".color-picker").removeClass("active");
          $(this).addClass("active");
          currentColor = $(this).data("color");
          ctx.strokeStyle = currentColor;
        });

        $("#pencil-width").on("input", function () {
          pencilWidth = $(this).val();
          ctx.lineWidth = pencilWidth;
        });

        // Initialize the drawing tool
        ctx.strokeStyle = currentColor;
        ctx.lineWidth = pencilWidth;
      });
    </script>
  </body>
</html>
